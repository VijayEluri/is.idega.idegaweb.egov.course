<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<div
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	<link 
		rel="stylesheet"
		type="text/css"
		href="#{iwResourceResolver['is.idega.idegaweb.egov.course']['style/courseProvidersTemplate.css']}"/>
	<link 
		rel="stylesheet"
		type="text/css"
		href="#{iwResourceResolver['is.idega.idegaweb.egov.course']['style/courseProviderUsersViewer.css']}"/>
	<link 
		rel="stylesheet"
		type="text/css"
		href="#{iwResourceResolver['com.idega.core']['style/iw_core.css']}"/>
	<link 
		rel="stylesheet"
		type="text/css"
		href="#{iwResourceResolver['com.idega.block.web2.0']['javascript/fancybox/2.1.4/fancybox.css']}"/>
	<script 
		type="text/javascript" 
		src="http://code.jquery.com/jquery-latest.min.js"/>
	<script 
		type="text/javascript" 
		src="#{iwResourceResolver['com.idega.core']['iw_core.js']}"/>
	<script 
		type="text/javascript"
		src="#{iwResourceResolver['com.idega.block.web2.0']['javascript/fancybox/2.1.4/fancybox.js']}"/>
	<script 
		type="text/javascript"
		src="#{iwResourceResolver['com.idega.block.web2.0']['javascript/jquery-plugins/jquery.easing.js']}"/>
	<script 
		type="text/javascript"
		src="#{iwResourceResolver['com.idega.block.web2.0']['javascript/fancybox/2.1.4/helpers/jquery.fancybox-media.js']}"/>
	<script 
		type="text/javascript"
		src="#{iwResourceResolver['is.idega.idegaweb.egov.course']['javascript/courseProviderUsersViewerHelper.js']}"/>
	<script type="text/javascript">
		var LOADING = "#{localizedStrings['is.idega.idegaweb.egov.course']['loading']}";
	</script>
	<h:panelGroup
		layout="block">
		<ui:repeat
			var="listByArea" 
			value="#{courseProviderUsersViewerBean.groupedUsers}">
			<h:panelGroup
				layout="block"
				styleClass="area">
				<h:panelGrid
					columns="2"
					styleClass="areaName">
					<h:panelGroup>
						<h:selectBooleanCheckbox
							id="showContainer"
							styleClass="showContainerClass"
							onchange="CourseProviderUsersViewerHelper.changeVisibility(this)"/>
					</h:panelGroup>
					<h:panelGroup>
						<h:outputLabel
							for="showContainer">
							<h1 
								class="areaHeader">
								#{listByArea.name}
							</h1>
						</h:outputLabel>
					</h:panelGroup>
				</h:panelGrid>
				<h:panelGroup
					styleClass="areasContainer"
					layout="block">
					<ui:repeat
						var="listByType" 
						value="#{listByArea.usersByType}">
						<h:panelGroup
							styleClass="tableContainer"
							layout="block">
							<h2
								class="tableName">
								#{listByType.name}
							</h2>
							<h:dataTable
								id="courseProvidersTable"
								value="#{listByType.users}"
								var="bean"
								styleClass="table"
								rowClasses="tableRow">
								<h:column>
									<h:inputHidden
										id="providerId"
										value="#{bean.id}"/>
								</h:column>
								<h:column>
									<f:facet
										name="header">
										<h:panelGroup
											layout="block"
											styleClass="header">
											<h:outputText
												value="#{localizedStrings['is.idega.idegaweb.egov.course']['name']}"/>
										</h:panelGroup>
									</f:facet>
									<h:outputText
										value="#{bean.name}"/>
								</h:column>
								<h:column>
									<f:facet
										name="header">
										<h:panelGroup
											layout="block"
											styleClass="header">
											<h:outputText
												value="#{localizedStrings['is.idega.idegaweb.egov.course']['email']}"/>
										</h:panelGroup>
									</f:facet>
									<h:outputText
										value="#{bean.eMail}"/>
								</h:column>
								<h:column>
									<f:facet
										name="header">
										<h:panelGroup
											layout="block"
											styleClass="header">
											<h:outputText
												value="#{localizedStrings['is.idega.idegaweb.egov.course']['edit']}"/>
										</h:panelGroup>
									</f:facet>
									<h:panelGroup
										layout="block">
										<h:outputLink
											styleClass="windowLink"
											value="#{bean.editorLink}">
											<h:graphicImage
												value="#{IWURIResource.res['/idegaweb/bundles/is.idega.idegaweb.egov.course.bundle/resources/style/images/edit.png']}"
												alt="#{localizedStrings['is.idega.idegaweb.egov.course']['edit']}"/>
										</h:outputLink>
									</h:panelGroup>
								</h:column>
								<h:column>
									<f:facet 
										name="header">
										<h:panelGroup
											layout="block"
											styleClass="header">
											<h:outputText
												value="#{localizedStrings['is.idega.idegaweb.egov.course']['delete']}"/>
										</h:panelGroup>
									</f:facet>
									<h:panelGroup
										layout="block">
										<h:graphicImage
											url="#{IWURIResource.res['/idegaweb/bundles/is.idega.idegaweb.egov.course.bundle/resources/style/images/delete.png']}"
											onclick="CourseProviderUsersViewerHelper.remove(this.parentNode.parentNode, '#{listByArea.key}')"
											alt="#{localizedStrings['is.idega.idegaweb.egov.course']['delete']}"/>
									</h:panelGroup>
								</h:column>
							</h:dataTable>
						</h:panelGroup>
					</ui:repeat>
				</h:panelGroup>
			</h:panelGroup>
		</ui:repeat>
		<h:panelGroup
			layout="block">
			<h:outputLink
				styleClass="homepageLink"
				value="#{courseProviderUsersViewerBean.homepageLink}">
				<input
					value="#{localizedStrings['is.idega.idegaweb.egov.course']['back']}"
					type="button"/>
			</h:outputLink>
			<h:outputLink
				styleClass="windowLink"
				value="#{courseProviderUsersViewerBean.editorLink}">
				<input
					value="#{localizedStrings['is.idega.idegaweb.egov.course']['add']}"
					type="button"/>
			</h:outputLink>
		</h:panelGroup>
	</h:panelGroup>
</div>